@if (authService.isLoggedIn()) {
  <ng-container *ngTemplateOutlet="templateApp"></ng-container>
} @else {
  <ng-container *ngTemplateOutlet="templateLogin"></ng-container>
}

<ng-template #templateLogin>
  <login-component/>
</ng-template>
<ng-template #templateApp>
  <nz-layout>
    <!--
    <nz-header>
      <div class="logo"></div>
      <ul nz-menu nzTheme="dark" nzMode="horizontal" class="header-menu">
        <li nz-menu-item nzSelected>nav 1</li>
        <li nz-menu-item>nav 2</li>
        <li nz-menu-item>nav 3</li>
      </ul>
    </nz-header>
    -->
  <nz-layout>
    <nz-sider nzCollapsible [(nzCollapsed)]="isCollapsed" nzTheme="light">
      <ul nz-menu nzMode="inline" [nzInlineCollapsed]="isCollapsed">
        <li nz-submenu nzOpen nzTitle="Application" nzIcon="menu">
          <ul>
            <li nz-menu-item>
              <a (click)="logout()">Log out</a>
            </li>
          </ul>
        </li>
        @for (menu of appLoaderService.menuList; track menu) {
          <li nz-submenu nzOpen nzTitle="{{menu.title}}" nzIcon="menu-unfold">
            <ul>
              @for (route of menu.routes; track route) {
                <li nz-menu-item nzMatchRouter>
                  <a routerLink="{{route.path}}">{{ route.title }}</a>
                </li>
              }
            </ul>
          </li>
        }
      </ul>
    </nz-sider>

    <nz-content>
      <div class="inner-content">
        <router-outlet></router-outlet>
      </div>
    </nz-content>
  </nz-layout>
  </nz-layout>
</ng-template>


